!function(){function o(o,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(o,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(o.prototype=window.Event.prototype,window.CustomEvent=o)}();var modalOpenEvent=new CustomEvent("modal_open"),modalCloseEvent=new CustomEvent("modal.close"),modalInitEvent=new CustomEvent("modal.init"),modalBeforeOpenEvent=new CustomEvent("modal_before_open"),modalBeforeCloseEvent=new CustomEvent("modal.before.close"),openMod=function(){$("[data-modal]").map(function(){var o;!(768<=$(window).width())&&$(this).hasClass("notModalMob")||($(this).on("click",modalEvent),o=document.getElementById($(this).attr("data-modal")),$(o).hasClass("init-modal")||(o.dispatchEvent(modalInitEvent),$(o).addClass("init-modal")))}),$(".modalsScroll").map(function(){var o=$(this);o.find(".closeModal").on("click",closeModal),o.find(".overlayModal").on("click",closeModal)})},modalEvent=function(){(0<$(".blockMod.open").length?openOtherModal:openModal)($(this).attr("data-modal"))},openOtherModal=function(o){var e,n=document.getElementById(o);$(n).parents(".modalsScroll").hasClass("open")?(closeModalOnly(),setTimeout(function(){openModalOnly(o)},500)):(e=$(".modalsScroll.open"),closeModalsScroll(e),openModalsScroll($(n)))},openModal=function(o){var e=document.getElementById(o),o=$(e).parents(".modalsScroll");o.find(".overlayModal").fadeIn(500),e.dispatchEvent(modalBeforeOpenEvent),$(e).addClass("open").fadeIn(500,function(){e.dispatchEvent(modalOpenEvent)}),$("html").addClass("bodyModal").on("keydown",function(o){27==o.keyCode&&closeModal()}),o.addClass("open")},openModalsScroll=function(o){var e=document.getElementById(o.attr("id")),o=$(e).parents(".modalsScroll");o.find(".overlayModal").fadeIn(500),e.dispatchEvent(modalBeforeOpenEvent),$(e).addClass("open").fadeIn(500,function(){e.dispatchEvent(modalOpenEvent)}),o.addClass("open")},openModalOnly=function(o){var e=document.getElementById(o);e.dispatchEvent(modalBeforeOpenEvent),$(e).addClass("open").fadeIn(500,function(){e.dispatchEvent(modalOpenEvent)})},closeModal=function(){var o=$(".modalsScroll.open"),e=o.find(".overlayModal"),n=document.getElementById($(o).find(".blockMod.open").attr("id"));e.fadeOut(500),n.dispatchEvent(modalBeforeCloseEvent),$(n).fadeOut(500,function(){$(this).removeClass("open init-modal"),$("html").removeClass("bodyModal").off("keydown"),o.removeClass("open"),n.dispatchEvent(modalCloseEvent)})},closeModalsScroll=function(o){var e=$(o).find(".overlayModal"),n=document.getElementById($(o).find(".blockMod.open").attr("id"));e.fadeOut(500),n.dispatchEvent(modalBeforeCloseEvent),$(o).find(".blockMod.open").fadeOut(500,function(){$(this).removeClass("open init-modal"),$(o).removeClass("open"),n.dispatchEvent(modalCloseEvent)})},closeModalOnly=function(){var o=document.getElementById($(".modalsScroll .blockMod.open").attr("id"));o.dispatchEvent(modalBeforeCloseEvent),$(".modalsScroll .blockMod.open").fadeOut(500,function(){$(this).removeClass("open"),o.dispatchEvent(modalCloseEvent)})};